/*! jquery.codetker.myBoxScroll 26-07-2015 */
(function($,window,document,undefined){var BoxObj=function(ele,opt){this.$element=ele;this.defaults={"child":"li","style":0,"stepTime":1,"direction":"right","toLeft":null,"toRight":null,"ControlUl":null,"circle":true,"circleTime":5,"fadeInTime":300,"fadeOutTime":400,"liHover":null};this.options=$.extend({},this.defaults,opt)};BoxObj.prototype={boxScroll:function(){var boxWindow=this.$element,child=$(boxWindow).find(this.options.child),style=this.options.style,circle=this.options.circle,circleTime=this.options.circleTime,direction=(this.options.direction=="right")?1:-1,toLeft=this.options.toLeft,toRight=this.options.toRight,Control=this.options.ControlUl,liHover=this.options.liHover,lists=$(Control).children("li"),boxWidth=$(child).width(),imgIndexMax=$(child).length,imgIndex,timer,stepTime=this.options.stepTime,fadeInTime=this.options.fadeInTime,fadeOutTime=this.options.fadeOutTime,startTime,endTime;function getImgIndex(){switch(style){case 0:imgIndex=Math.round(parseInt($(boxWindow).css("margin-left"))*(-1)/boxWidth);break;case 1:imgIndex=Math.round($(boxWindow).scrollLeft()/boxWidth);break;case 2:imgIndex=getIndexShow();break;default:}}function getIndexShow(){var temp;$(lists).each(function(){if($(this).hasClass(liHover)){temp=$(this).index()}});return temp}function set(){if(circle){timer=setInterval(function(){boxScroll(imgIndex,direction)},1000*circleTime)}}function rest(){clearInterval(timer);set()}if(style==2){$(child).eq(0).click()}set();startTime=Date.parse(new Date());endTime=Date.parse(new Date());$(Control).delegate("li","click",function(){boxScroll($(this).index(),0);rest()});$(toLeft).click(function(){startTime=Date.parse(new Date());if((startTime-endTime)>800){boxScroll(0,-1);rest();endTime=Date.parse(new Date())}});$(toRight).click(function(){startTime=Date.parse(new Date());if((startTime-endTime)>800){boxScroll(0,1);rest();endTime=Date.parse(new Date())}});function boxScroll(index,dir){if(!$(boxWindow).is(":animated")){if(!dir){imgIndex=index}else{if(dir==1){getImgIndex();if(imgIndex===(imgIndexMax-1)){imgIndex=0}else{imgIndex+=1}}else{getImgIndex();if(imgIndex===0){imgIndex=(imgIndexMax-1)}else{imgIndex-=1}}}lists.eq(imgIndex).addClass(liHover);lists.eq(imgIndex).siblings().removeClass(liHover);switch(style){case 0:$(boxWindow).animate({"margin-left":imgIndex*boxWidth*(-1)+"px"},1000*stepTime);break;case 1:$(boxWindow).animate({"scrollLeft":imgIndex*boxWidth+"px"},1000*stepTime);break;case 2:$(child).fadeOut(fadeOutTime);$(child).eq(imgIndex).fadeIn(fadeInTime);break;default:}}}}};$.fn.boxScroll=function(options){var boxObj=new BoxObj(this,options);return boxObj.boxScroll()}})(jQuery,window,document);